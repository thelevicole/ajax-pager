"use strict";(function(a){"use strict";a.fn.ajaxPager=function(b){var c=this,d=0,e=!1;b=a.extend(!0,{data:{},url:"",totalPages:0},b);var f=function(a){for(var b=arguments.length,d=Array(1<b?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];c.trigger.apply(c,["ap-".concat(a)].concat(d))},g=function(){return a.extend(b.data,{current_page:c.currentPage()})},h=function(){for(var h=arguments.length,i=Array(h),j=0;j<h;j++)i[j]=arguments[j];c.hasMore()&&!e&&(e=!0,f.apply(void 0,["before_request"].concat(i)),a.ajax({method:"POST",url:b.url,data:g()}).then(function(a,b,c){d++,f.apply(void 0,["request_successful",a,b,c].concat(i))},function(a,b,c){f.apply(void 0,["request_failed",a,b,c].concat(i))}).always(function(){e=!1,f.apply(void 0,["after_request"].concat(i))}))};return c.loadMore=function(){h.apply(void 0,arguments)},c.hasMore=function(){return c.currentPage()<b.totalPages},c.currentPage=function(){return d},c.resetPage=function(){return c.setPage(0)},c.setPage=function(a){return isNaN(a)||(d=parseInt(a)),d},c.updatePayload=function(c){b.data=a.extend(b.data,c)},c.updateOptions=function(d){var e=b.data;b=a.extend(b,d),c.updatePayload(e)},c.resetPage(),setTimeout(function(){return c.loadMore()},10),c}})(jQuery||window.jQuery);